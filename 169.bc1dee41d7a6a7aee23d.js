"use strict";(self.webpackChunkcalentana_front=self.webpackChunkcalentana_front||[]).push([[169],{8169:(Zr,rt,m)=>{m.r(rt),m.d(rt,{PagesModule:()=>Rr});var d=m(665),On=m(2686),g=m(8583),H=m(9761),F=m(8002),e=m(7716),Ee=m(5555),se=m(7574),lt=m(9193),W=m(5917),C=m(7709),R=m(2759),ct=m(8634),dt=m(9796),ut=m(6693),gt=m(5197),ht=m(509);class Pn{call(o,t){return t.subscribe(new Bn(o))}}class Bn extends gt.L{constructor(o){super(o),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(o){this.observables.push(o)}_complete(){const o=this.observables,t=o.length;if(0===t)this.destination.complete();else{for(let i=0;i<t&&!this.hasFirst;i++){const a=(0,ht.D)(this,o[i],void 0,i);this.subscriptions&&this.subscriptions.push(a),this.add(a)}this.observables=null}}notifyNext(o,t,i){if(!this.hasFirst){this.hasFirst=!0;for(let s=0;s<this.subscriptions.length;s++)if(s!==i){let a=this.subscriptions[s];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)}}m(6215),m(9112);var $n=m(8640);new se.y($n.Z);var fe=m(7393),_e=m(377),Oe=m(5345);function me(...n){const o=n[n.length-1];return"function"==typeof o&&n.pop(),(0,ut.n)(n,void 0).lift(new Hn(o))}class Hn{constructor(o){this.resultSelector=o}call(o,t){return t.subscribe(new Yn(o,this.resultSelector))}}class Yn extends fe.L{constructor(o,t,i=Object.create(null)){super(o),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(o){const t=this.iterators;(0,dt.k)(o)?t.push(new Jn(o)):t.push("function"==typeof o[_e.hZ]?new qn(o[_e.hZ]()):new Gn(this.destination,this,o))}_complete(){const o=this.iterators,t=o.length;if(this.unsubscribe(),0!==t){this.active=t;for(let i=0;i<t;i++){let s=o[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const o=this.iterators,t=o.length,i=this.destination;for(let r=0;r<t;r++){let l=o[r];if("function"==typeof l.hasValue&&!l.hasValue())return}let s=!1;const a=[];for(let r=0;r<t;r++){let l=o[r],c=l.next();if(l.hasCompleted()&&(s=!0),c.done)return void i.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):i.next(a),s&&i.complete()}_tryresultSelector(o){let t;try{t=this.resultSelector.apply(this,o)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class qn{constructor(o){this.iterator=o,this.nextResult=o.next()}hasValue(){return!0}next(){const o=this.nextResult;return this.nextResult=this.iterator.next(),o}hasCompleted(){const o=this.nextResult;return Boolean(o&&o.done)}}class Jn{constructor(o){this.array=o,this.index=0,this.length=0,this.length=o.length}[_e.hZ](){return this}next(o){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Gn extends Oe.Ds{constructor(o,t,i){super(o),this.parent=t,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[_e.hZ](){return this}next(){const o=this.buffer;return 0===o.length&&this.isComplete?{value:null,done:!0}:{value:o.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(o){this.buffer.push(o),this.parent.checkIterators()}subscribe(){return(0,Oe.ft)(this.observable,new Oe.IY(this))}}m(6682);var Ln=m(8071),w=m(6782),E=m(5435),O=m(5257),Be=m(3190),be=m(8307);function $e(...n){return o=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),o.lift(new zn(n,t))}}class zn{constructor(o,t){this.observables=o,this.project=t}call(o,t){return t.subscribe(new Qn(o,this.observables,this.project))}}class Qn extends gt.L{constructor(o,t,i){super(o),this.observables=t,this.project=i,this.toRespond=[];const s=t.length;this.values=new Array(s);for(let a=0;a<s;a++)this.toRespond.push(a);for(let a=0;a<s;a++)this.add((0,ht.D)(this,t[a],void 0,a))}notifyNext(o,t,i){this.values[i]=t;const s=this.toRespond;if(s.length>0){const a=s.indexOf(i);-1!==a&&s.splice(a,1)}}notifyComplete(){}_next(o){if(0===this.toRespond.length){const t=[o,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(o){let t;try{t=this.project.apply(this,o)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}m(3637);class P{constructor(o,t,i){this.kind=o,this.value=t,this.error=i,this.hasValue="N"===o}observe(o){switch(this.kind){case"N":return o.next&&o.next(this.value);case"E":return o.error&&o.error(this.error);case"C":return o.complete&&o.complete()}}do(o,t,i){switch(this.kind){case"N":return o&&o(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(o,t,i){return o&&"function"==typeof o.next?this.observe(o):this.do(o,t,i)}toObservable(){switch(this.kind){case"N":return(0,W.of)(this.value);case"E":return n=this.error,new se.y(t=>t.error(n));case"C":return(0,lt.c)()}var n;throw new Error("unexpected notification kind value")}static createNext(o){return void 0!==o?new P("N",o):P.undefinedValueNotification}static createError(o){return new P("E",void 0,o)}static createComplete(){return P.completeNotification}}P.completeNotification=new P("C"),P.undefinedValueNotification=new P("N",void 0),m(9773),m(8819);const X=["*"],zi=["dialog"];function q(n){return null!=n}function ee(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let o=this;if(!document.documentElement.contains(o))return null;do{if(o.matches(n))return o;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);return null});const Nt={animation:!0,transitionTimerDelayMs:5};let S=(()=>{class n{constructor(){this.animation=Nt.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const ls=()=>{},{transitionTimerDelayMs:cs}=Nt,re=new Map,M=(n,o,t,i)=>{let s=i.context||{};const a=re.get(o);if(a)switch(i.runningTransition){case"continue":return lt.E;case"stop":n.run(()=>a.transition$.complete()),s=Object.assign(a.context,s),re.delete(o)}const r=t(o,i.animation,s)||ls;if(!i.animation||"none"===window.getComputedStyle(o).transitionProperty)return n.run(()=>r()),(0,W.of)(void 0).pipe(function(n){return o=>new se.y(t=>o.subscribe(r=>n.run(()=>t.next(r)),r=>n.run(()=>t.error(r)),()=>n.run(()=>t.complete())))}(n));const l=new C.xQ,c=new C.xQ,u=l.pipe(function(...n){return o=>(0,Ln.z)(o,(0,W.of)(...n))}(!0));re.set(o,{transition$:l,complete:()=>{c.next(),c.complete()},context:s});const h=function(n){const{transitionDelay:o,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(o)+parseFloat(t))}(o);return n.runOutsideAngular(()=>{const f=(0,R.R)(o,"transitionend").pipe((0,w.R)(u),(0,E.h)(({target:_})=>_===o));(function(...n){if(1===n.length){if(!(0,dt.k)(n[0]))return n[0];n=n[0]}return(0,ut.n)(n,void 0).lift(new Pn)})((0,ct.H)(h+cs).pipe((0,w.R)(u)),f,c).pipe((0,w.R)(u)).subscribe(()=>{re.delete(o),n.run(()=>{r(),l.next(),l.complete()})})}),l.asObservable()};var b=(()=>{return(n=b||(b={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",b;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Bt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $t(n){const o=Array.from(n.querySelectorAll(Bt)).filter(t=>-1!==t.tabIndex);return[o[0],o[o.length-1]]}new class{getAllStyles(o){return window.getComputedStyle(o)}getStyle(o,t){return this.getAllStyles(o)[t]}isStaticPositioned(o){return"static"===(this.getStyle(o,"position")||"static")}offsetParent(o){let t=o.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(o,t=!0){let i,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(o,"position"))i=o.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const a=this.offsetParent(o);i=this.offset(o,!1),a!==document.documentElement&&(s=this.offset(a,!1)),s.top+=a.clientTop,s.left+=a.clientLeft}return i.top-=s.top,i.bottom-=s.top,i.left-=s.left,i.right-=s.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(o,t=!0){const i=o.getBoundingClientRect(),s_top=window.pageYOffset-document.documentElement.clientTop,s_left=window.pageXOffset-document.documentElement.clientLeft;let a={height:i.height||o.offsetHeight,width:i.width||o.offsetWidth,top:i.top+s_top,bottom:i.bottom+s_top,left:i.left+s_left,right:i.right+s_left};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a}positionElements(o,t,i,s){const[a="top",r="center"]=i.split("-"),l=s?this.offset(o,!1):this.position(o,!1),c=this.getAllStyles(t),u=parseFloat(c.marginTop),h=parseFloat(c.marginBottom),f=parseFloat(c.marginLeft),p=parseFloat(c.marginRight);let _=0,v=0;switch(a){case"top":_=l.top-(t.offsetHeight+u+h);break;case"bottom":_=l.top+l.height;break;case"left":v=l.left-(t.offsetWidth+f+p);break;case"right":v=l.left+l.width}switch(r){case"top":_=l.top;break;case"bottom":_=l.top+l.height-t.offsetHeight;break;case"left":v=l.left;break;case"right":v=l.left+l.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?v=l.left+l.width/2-t.offsetWidth/2:_=l.top+l.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(v)}px, ${Math.round(_)}px)`;const y=t.getBoundingClientRect(),A=document.documentElement,Z=window.innerHeight||A.clientHeight,I=window.innerWidth||A.clientWidth;return y.left>=0&&y.top>=0&&y.right<=I&&y.bottom<=Z}},new Date(1882,10,12),new Date(2174,10,25);let en=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(S))},n.\u0275prov=e.Yz7({factory:function(){return new n(e.LFG(S))},token:n,providedIn:"root"}),n})();class z{constructor(o,t,i){this.nodes=o,this.viewRef=t,this.componentRef=i}}const aa=()=>{};let tn=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):aa}_adjustBody(t){const i=this._document.body,s=i.style.paddingRight,a=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${a+t}px`,()=>i.style["padding-right"]=s}_isPresent(t){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(t);const s=t.getBoundingClientRect().width-t.clientWidth;return i.removeChild(t),s}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.K0))},n.\u0275prov=e.Yz7({factory:function(){return new n(e.LFG(g.K0))},token:n,providedIn:"root"}),n})(),ra=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,O.q)(1)).subscribe(()=>{M(this._zone,this._el.nativeElement,(t,i)=>{i&&ee(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return M(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,i){2&t&&(e.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),e.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class oe{close(o){}dismiss(o){}}class la{constructor(o,t,i,s){this._windowCmptRef=o,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new C.xQ,this._dismissed=new C.xQ,this._hidden=new C.xQ,o.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,r)=>{this._resolve=a,this._reject=r}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,w.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,w.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(o){this._windowCmptRef&&(this._closed.next(o),this._resolve(o),this._removeModalElements())}_dismiss(o){this._dismissed.next(o),this._reject(o),this._removeModalElements()}dismiss(o){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(i=>{!1!==i&&this._dismiss(o)},()=>{}):!1!==t&&this._dismiss(o)}else this._dismiss(o)}_removeModalElements(){const o=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,W.of)(void 0);o.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),me(o,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var he=(()=>{return(n=he||(he={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",he;var n})();let ca=(()=>{class n{constructor(t,i,s){this._document=t,this._elRef=i,this._zone=s,this._closed$=new C.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new C.xQ,this.hidden=new C.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,O.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=me(M(this._zone,t,()=>t.classList.remove("show"),i),M(this._zone,this._dialogEl.nativeElement,()=>{},i));return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){const t={animation:this.animation,runningTransition:"continue"};me(M(this._zone,this._elRef.nativeElement,(a,r)=>{r&&ee(a),a.classList.add("show")},t),M(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,R.R)(t,"keydown").pipe((0,w.R)(this._closed$),(0,E.h)(s=>s.which===b.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(he.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,R.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,w.R)(this._closed$),(0,be.b)(()=>i=!1),(0,Be.w)(()=>(0,R.R)(t,"mouseup").pipe((0,w.R)(this._closed$),(0,O.q)(1))),(0,E.h)(({target:s})=>t===s)).subscribe(()=>{i=!0}),(0,R.R)(t,"click").pipe((0,w.R)(this._closed$)).subscribe(({target:s})=>{t===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(he.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),s=$t(t)[0];(i||s||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&M(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.K0),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&e.Gf(zi,7),2&t){let s;e.iGM(s=e.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),e.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),e.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:X,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA(),e.qZA()),2&t&&e.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),nn=(()=>{class n{constructor(t,i,s,a,r,l){this._applicationRef=t,this._injector=i,this._document=s,this._scrollBar=a,this._rendererFactory=r,this._ngZone=l,this._activeWindowCmptHasChanged=new C.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,o,t,i=!1)=>{n.runOutsideAngular(()=>{const s=(0,R.R)(o,"focusin").pipe((0,w.R)(t),(0,F.U)(a=>a.target));(0,R.R)(o,"keydown").pipe((0,w.R)(t),(0,E.h)(a=>a.which===b.Tab),$e(s)).subscribe(([a,r])=>{const[l,c]=$t(o);(r===l||r===o)&&a.shiftKey&&(c.focus(),a.preventDefault()),r===c&&!a.shiftKey&&(l.focus(),a.preventDefault())}),i&&(0,R.R)(o,"click").pipe((0,w.R)(t),$e(s),(0,F.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}open(t,i,s,a){const r=a.container instanceof HTMLElement?a.container:q(a.container)?this._document.querySelector(a.container):this._document.body,l=this._rendererFactory.createRenderer(null,null),c=this._scrollBar.compensate(),u=()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);const h=new oe,f=this._getContentRef(t,a.injector||i,s,h,a);let p=!1!==a.backdrop?this._attachBackdrop(t,r):void 0,_=this._attachWindowComponent(t,r,f),v=new la(_,f,p,a.beforeDismiss);return this._registerModalRef(v),this._registerWindowCmpt(_),v.result.then(c,c),v.result.then(u,u),h.close=y=>{v.close(y)},h.dismiss=y=>{v.dismiss(y)},this._applyWindowOptions(_.instance,a),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),p&&p.instance&&(this._applyBackdropOptions(p.instance,a),p.changeDetectorRef.detectChanges()),_.changeDetectorRef.detectChanges(),v}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let a=t.resolveComponentFactory(ra).create(this._injector);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,i,s){let r=t.resolveComponentFactory(ca).create(this._injector,s.nodes);return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(s=>{q(i[s])&&(t[s]=i[s])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(s=>{q(i[s])&&(t[s]=i[s])})}_getContentRef(t,i,s,a,r){return s?s instanceof e.Rgc?this._createFromTemplateRef(s,a):function(n){return"string"==typeof n}(s)?this._createFromString(s):this._createFromComponent(t,i,s,a,r):new z([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(r){i.close(r)},dismiss(r){i.dismiss(r)}});return this._applicationRef.attachView(a),new z([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new z([[i]])}_createFromComponent(t,i,s,a,r){const l=t.resolveComponentFactory(s),c=e.zs3.create({providers:[{provide:oe,useValue:a}],parent:i}),u=l.create(c),h=u.location.nativeElement;return r.scrollable&&h.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new z([[h]],u.hostView,u)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==t&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(g.K0),e.LFG(tn),e.LFG(e.FYo),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({factory:function(){return new n(e.LFG(e.z2F),e.LFG(e.gxx),e.LFG(g.K0),e.LFG(tn),e.LFG(e.FYo),e.LFG(e.R0b))},token:n,providedIn:"root"}),n})(),pe=(()=>{class n{constructor(t,i,s,a){this._moduleCFR=t,this._injector=i,this._modalStack=s,this._config=a}open(t,i={}){const s=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(nn),e.LFG(en))},n.\u0275prov=e.Yz7({factory:function(){return new n(e.LFG(e._Vd),e.LFG(e.gxx),e.LFG(nn),e.LFG(en))},token:n,providedIn:"root"}),n})();function ja(n,o){1&n&&(e.TgZ(0,"h4",17),e._uU(1," Agregar Empleado "),e._UZ(2,"i",18),e.qZA())}function Va(n,o){1&n&&(e.TgZ(0,"h4",17),e._uU(1," Edicion Empleado "),e._UZ(2,"i",19),e.qZA())}function za(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().operate()}),e._uU(1," Guardar "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function Qa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().operate()}),e._uU(1," Actualizar "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}new e.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Wa=(()=>{class n{constructor(t,i,s){this._empleadoService=t,this._formBuilder=i,this._activeModal=s}ngOnInit(){this.initForm()}emptyForm(){this.form=this._formBuilder.group({Id:[null],Nombre:[null,[d.kI.required]],Cedula:[null],Telefono:[null,[d.kI.required]]})}editForm(){this.form=this._formBuilder.group({Id:[this.empleado.Id,[d.kI.required]],Nombre:[this.empleado.Nombre,[d.kI.required]],Cedula:[this.empleado.Cedula],Telefono:[this.empleado.Telefono,[d.kI.required]]})}initForm(){this.emptyForm(),this.empleado&&this.editForm()}operate(){let t={Id:this.form.value.Id,Nombre:this.form.value.Nombre,Cedula:this.form.value.Cedula,Telefono:this.form.value.Telefono};this.empleado?this._empleadoService.updateItem(t).subscribe(i=>{console.log(i),this._empleadoService.setChangeList(this.empleados),this.closeModal()}):this._empleadoService.saveItem(t).subscribe(i=>{console.log(i),this._empleadoService.setChangeList(this.empleados),this.closeModal()})}closeModal(){this._activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee.i),e.Y36(d.qu),e.Y36(oe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-empleado"]],decls:26,vars:6,consts:[[1,"container"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-12"],[3,"hidden"],["for","exampleFormControlInput1",1,"form-label"],["type","text","placeholder","ID","formControlName","Id",1,"form-control"],[1,"form-label"],["type","text","placeholder","Nombre","formControlName","Nombre",1,"form-control"],["type","text","placeholder","Cedula","formControlName","Cedula",1,"form-control"],["type","text","placeholder","Telefono","formControlName","Telefono",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary",3,"click"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"modal-title"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-pencil"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,ja,3,0,"h4",2),e.YNc(3,Va,3,0,"h4",2),e.qZA(),e.TgZ(4,"form",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"label",8),e._uU(10," ID "),e.qZA(),e._UZ(11,"input",9),e.qZA(),e.TgZ(12,"label",10),e._uU(13," Nombre "),e.qZA(),e._UZ(14,"input",11),e.TgZ(15,"label",10),e._uU(16," Cedula "),e.qZA(),e._UZ(17,"input",12),e.TgZ(18,"label",10),e._uU(19," Telefono "),e.qZA(),e._UZ(20,"input",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"button",15),e.NdJ("click",function(){return i.closeModal()}),e._uU(23," Cancelar "),e.qZA(),e.YNc(24,za,2,1,"button",16),e.YNc(25,Qa,2,1,"button",16),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!i.empleado),e.xp6(1),e.Q6J("ngIf",i.empleado),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(4),e.Q6J("hidden",!0),e.xp6(16),e.Q6J("ngIf",!i.empleado),e.xp6(1),e.Q6J("ngIf",i.empleado))},directives:[g.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u],styles:[""]}),n})();var Q=m(9866);function Xa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"i",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().openModal(a)}),e.qZA(),e.TgZ(9,"i",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().eliminar(a.Id)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.Nombre," "),e.xp6(2),e.hij(" ",t.Cedula," "),e.xp6(2),e.hij(" ",t.Telefono," ")}}let Ka=(()=>{class n{constructor(t,i,s){this._empleadoService=t,this._modalService=i,this.spinner=s,this.page=1,this.pageSize=4,this.collectionSize=5,this.filter=new d.NI("")}ngOnInit(){this.getEmpleados(),this._empleadoService.getChangeList().subscribe(()=>this.getEmpleados())}openModal(t){this._modalService.open(Wa).componentInstance.empleado=t}eliminar(t){this._empleadoService.deleteItem(t).subscribe(i=>{console.log(i),this._empleadoService.setChangeList(this.empleados)})}getEmpleados(){this.spinner.show(),this._empleadoService.getItems().subscribe(t=>{this.empleados=t.data,this.spinner.hide(),this.tableFilter()})}tableFilter(){this.empleados$=this.filter.valueChanges.pipe((0,H.O)(""),(0,F.U)(t=>this.search(t)))}search(t){return this.empleados.filter(i=>{const s=t.toLowerCase();return i.Nombre.toLowerCase().includes(s)||i.Nombre.toLowerCase().includes(s)||i.Cedula.toString().toLowerCase().includes(s)||i.Telefono.toString().toLowerCase().includes(s)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee.i),e.Y36(pe),e.Y36(Q.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-empleado"]],decls:24,vars:4,consts:[[1,"container"],[1,"btn","btn-primary","col-12","col-sm-5","m-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["type","text",1,"form-control",3,"formControl"],[1,"table","table-hover","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],["data-bs-toggle","tooltip","data-bs-title","Editar",1,"fa-solid","fa-pencil","text-dark","me-2",3,"click"],[1,"fa-solid","fa-trash","text-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form"),e.TgZ(2,"button",1),e.NdJ("click",function(){return i.openModal()}),e._uU(3," A\xf1adir Empleado "),e._UZ(4,"i",2),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"label",4),e._uU(7," Buscar : "),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"table",7),e.TgZ(11,"thead",8),e.TgZ(12,"tr"),e.TgZ(13,"th"),e._uU(14," Empleado "),e.qZA(),e.TgZ(15,"th"),e._uU(16," Cedula "),e.qZA(),e.TgZ(17,"th"),e._uU(18," Telefono "),e.qZA(),e.TgZ(19,"th"),e._uU(20," Acciones "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tBody"),e.YNc(22,Xa,10,3,"tr",9),e.ALo(23,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formControl",i.filter),e.xp6(13),e.Q6J("ngForOf",e.lcZ(23,2,i.empleados$)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.oH,g.sg],pipes:[g.Ov],styles:[""]}),n})();var it=m(8693),$=m(2340),ot=m(1841);let Ie=(()=>{class n extends it.M{constructor(t){super(t,`${$.N.HOST}/tiendas`),this._http=t,this.$changeList=new C.xQ,this.$changeMessage=new C.xQ}getTiendaByRuta(t){return this._http.get(`${$.N.HOST}/tiendas/byRuta/${t}`)}setChangeList(t){this.$changeList.next(t)}getChangeList(){return this.$changeList.asObservable()}setChangeMessage(t){this.$changeMessage.next(t)}getChangeMessage(){return this.$changeMessage.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ot.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),In=(()=>{class n extends it.M{constructor(t){super(t,`${$.N.HOST}/ventas`),this._http=t}pos(t){return this._http.post(`${$.N.HOST}/tiendas/byRuta/${t}`,t)}reporteExcel(t){return this._http.post(`${$.N.HOST}/ventas/reporteExcel`,t,{responseType:"blob"})}ventasByfecha(t){return this._http.post(`${$.N.HOST}/ventas/ventasByFechas`,t)}ventasTotalesByfecha(t){return this._http.post(`${$.N.HOST}/ventas/ventasTotalesByFechas`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ot.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fe=m(4330);function er(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e._UZ(2,"hr"),e.TgZ(3,"div",3),e.TgZ(4,"div",10),e._UZ(5,"input",11),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e._UZ(10,"input",12),e.qZA(),e.TgZ(11,"div",4),e._UZ(12,"input",13),e.qZA(),e.TgZ(13,"div",4),e._UZ(14,"input",14),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){const t=o.$implicit,i=o.index;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(3),e.Q6J("hidden",!0),e.xp6(4),e.hij(" ",t.value.Tienda.Nombre," : ")}}let tr=(()=>{class n{constructor(t,i,s,a,r){this._tiendaService=t,this._ventaService=i,this.formBuilder=s,this.activatedRoute=a,this.spinner=r}ngOnInit(){this.getParamId()}getParamId(){this.activatedRoute.params.subscribe(t=>{this.id=localStorage.getItem("idRuta"),this.initForm(),this.getTiendas(this.id)})}initForm(){this.form=this.formBuilder.group({tiendas:this.formBuilder.array([])})}operate(){}addTienda(){for(let t=0;t<this.allTiendas.length;t++){const i=this.formBuilder.group({Tienda:[this.allTiendas[t]],Tradicional:[""],Mega:[""],Devolucion:[""]});this.tiendas.push(i)}}getTiendas(t){this.spinner.show(),this._tiendaService.getTiendaByRuta(t).subscribe(({data:i})=>{this.allTiendas=i,this.spinner.hide(),this.addTienda()})}save(){let t=this.form.value.tiendas,i=[];for(let s of t)if(""!=s.Tradicional||""!=s.Mega||""!=s.Devolucion){const a=Object.assign(Object.assign({},s),{Tienda:s.Tienda.Id});i.push(a)}0!=i.length&&(this.spinner.show(),this._ventaService.saveArrayItems(i).subscribe(s=>{this.spinner.hide()}))}get tiendas(){return this.form.get("tiendas")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(In),e.Y36(d.qu),e.Y36(Fe.gz),e.Y36(Q.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-venta"]],decls:22,vars:3,consts:[[1,"container"],[3,"formGroup"],["formArrayName","tiendas"],[1,"row"],[1,"col-3"],[1,"form-label"],[4,"ngFor","ngForOf"],[1,"d-grid","gap-2","col-12","col-sm-6"],["type","submit",1,"btn","btn-primary","m-2",3,"disabled","click"],[3,"formGroupName"],[1,"col-3",3,"hidden"],["type","text","placeholder","Tienda","formControlName","Tienda",1,"form-control"],["type","number","placeholder","Tradicional","formControlName","Tradicional",1,"form-control"],["type","number","placeholder","Mega","formControlName","Mega",1,"form-control"],["type","number","placeholder","Devolucion","formControlName","Devolucion",1,"form-control"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.ynx(2,2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"label",5),e._uU(6," Tienda "),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"label",5),e._uU(9," Tradicional "),e.qZA(),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"label",5),e._uU(12," Mega "),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"label",5),e._uU(15," Devolucion "),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,er,15,3,"ng-container",6),e._UZ(17,"hr"),e.BQk(),e.TgZ(18,"div",3),e.TgZ(19,"div",7),e.TgZ(20,"button",8),e.NdJ("click",function(){return i.save()}),e._uU(21," Ingresar Ventas "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(15),e.Q6J("ngForOf",i.tiendas.controls),e.xp6(4),e.Q6J("disabled",i.form.invalid))},directives:[d._Y,d.JL,d.sg,d.CE,g.sg,d.x0,d.Fj,d.JJ,d.u,d.wV],styles:[""]}),n})();var Re=m(3021);function nr(n,o){1&n&&(e.TgZ(0,"h4",17),e._uU(1," Agregar Ruta "),e._UZ(2,"i",18),e.qZA())}function ir(n,o){1&n&&(e.TgZ(0,"h4",17),e._uU(1," Edicion Ruta "),e._UZ(2,"i",19),e.qZA())}function or(n,o){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.AsE(" ",t.Nombre," - ",t.Cedula," ")}}function sr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().operate()}),e._uU(1," Guardar "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function ar(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().operate()}),e._uU(1," Actualizar "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}let rr=(()=>{class n{constructor(t,i,s,a){this._rutaService=t,this._empleadoService=i,this._formBuilder=s,this._activeModal=a}ngOnInit(){this.getRutas(),this.getEmpleados(),this.initForm()}emptyForm(){this.form=this._formBuilder.group({Id:[null],Nombre:[null,[d.kI.required]],Empleado:[null]})}editForm(){this.form=this._formBuilder.group({Id:[this.ruta.Id,[d.kI.required]],Nombre:[this.ruta.Nombre,[d.kI.required]],Empleado:[this.ruta.Empleado.Id]})}initForm(){this.emptyForm(),this.ruta&&this.editForm()}operate(){let t={Id:this.form.value.Id,Nombre:this.form.value.Nombre,Empleado:this.form.value.Nombre};this.ruta?this._rutaService.updateItem(t).subscribe(i=>{console.log(i),this._rutaService.setChangeList(this.rutas),this.closeModal()}):this._rutaService.saveItem(t).subscribe(i=>{console.log(i),this._rutaService.setChangeList(this.rutas),this.closeModal()})}getRutas(){this._rutaService.getItems().subscribe(t=>this.rutas=t.data)}getEmpleados(){this._empleadoService.getItems().subscribe(t=>this.empleados=t.data)}closeModal(){this._activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Re.z),e.Y36(Ee.i),e.Y36(d.qu),e.Y36(oe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-ruta"]],decls:24,vars:7,consts:[[1,"container"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-12"],[3,"hidden"],["for","exampleFormControlInput1",1,"form-label"],["type","text","placeholder","ID","formControlName","Id",1,"form-control"],[1,"form-label"],["type","text","placeholder","Nombre","formControlName","Nombre",1,"form-control"],["placeholder","Ruta","formControlName","Empleado",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary",3,"click"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"modal-title"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-pencil"],[3,"value"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,nr,3,0,"h4",2),e.YNc(3,ir,3,0,"h4",2),e.qZA(),e.TgZ(4,"form",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"label",8),e._uU(10," ID "),e.qZA(),e._UZ(11,"input",9),e.qZA(),e.TgZ(12,"label",10),e._uU(13," Nombre "),e.qZA(),e._UZ(14,"input",11),e.TgZ(15,"label",10),e._uU(16," Empleado "),e.qZA(),e.TgZ(17,"select",12),e.YNc(18,or,2,3,"option",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",14),e.TgZ(20,"button",15),e.NdJ("click",function(){return i.closeModal()}),e._uU(21," Cancelar "),e.qZA(),e.YNc(22,sr,2,1,"button",16),e.YNc(23,ar,2,1,"button",16),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!i.ruta),e.xp6(1),e.Q6J("ngIf",i.ruta),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(4),e.Q6J("hidden",!0),e.xp6(10),e.Q6J("ngForOf",i.empleados),e.xp6(4),e.Q6J("ngIf",!i.ruta),e.xp6(1),e.Q6J("ngIf",i.ruta))},directives:[g.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,d.EJ,g.sg,d.YN,d.Kr],styles:[""]}),n})();function lr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"i",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().openModal(a)}),e.qZA(),e.TgZ(11,"i",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().eliminar(a.Id)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.Nombre," "),e.xp6(2),e.hij(" ",t.Empleado.Nombre," "),e.xp6(2),e.hij(" ",t.Empleado.Cedula," "),e.xp6(2),e.hij(" ",t.Empleado.Telefono," ")}}let cr=(()=>{class n{constructor(t,i,s,a){this._rutaService=t,this._modalService=i,this.activatedRoute=s,this.spinner=a,this.page=1,this.pageSize=4,this.collectionSize=5,this.filter=new d.NI("")}ngOnInit(){this.refreshCountries(),this.getRutas(),this._rutaService.getChangeList().subscribe(()=>this.getRutas())}getParamId(){this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.getRutas()})}openModal(t){this._modalService.open(rr).componentInstance.ruta=t}eliminar(t){this._rutaService.deleteItem(t).subscribe(i=>{console.log(i)})}getRutas(){this.spinner.show(),this._rutaService.getItems().subscribe(t=>{this.rutas=t.data,this.spinner.hide(),this.tableFilter()})}tableFilter(){this.rutas$=this.filter.valueChanges.pipe((0,H.O)(""),(0,F.U)(t=>this.search(t)))}search(t){return this.rutas.filter(i=>{const s=t.toLowerCase();return i.Nombre.toLowerCase().includes(s)||i.Empleado.Cedula.toString().toLowerCase().includes(s)||i.Empleado.Nombre.toString().toLowerCase().includes(s)})}refreshCountries(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Re.z),e.Y36(pe),e.Y36(Fe.gz),e.Y36(Q.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ruta"]],decls:26,vars:4,consts:[[1,"container"],[1,"btn","btn-primary","col-12","col-sm-5","m-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["type","text",1,"form-control",3,"formControl"],[1,"table","table-hover","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],["data-bs-toggle","tooltip","data-bs-title","Editar",1,"fa-solid","fa-pencil","text-dark","me-2",3,"click"],[1,"fa-solid","fa-trash","text-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form"),e.TgZ(2,"button",1),e.NdJ("click",function(){return i.openModal()}),e._uU(3," A\xf1adir Ruta "),e._UZ(4,"i",2),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"label",4),e._uU(7," Buscar : "),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"table",7),e.TgZ(11,"thead",8),e.TgZ(12,"tr"),e.TgZ(13,"th"),e._uU(14," Ruta "),e.qZA(),e.TgZ(15,"th"),e._uU(16," Repartidor "),e.qZA(),e.TgZ(17,"th"),e._uU(18," Cedula "),e.qZA(),e.TgZ(19,"th"),e._uU(20," Telefono "),e.qZA(),e.TgZ(21,"th"),e._uU(22," Acciones "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tBody"),e.YNc(24,lr,12,4,"tr",9),e.ALo(25,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formControl",i.filter),e.xp6(15),e.Q6J("ngForOf",e.lcZ(25,2,i.rutas$)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.oH,g.sg],pipes:[g.Ov],styles:[""]}),n})();function dr(n,o){1&n&&(e.TgZ(0,"h4",18),e._uU(1," Agregar Tienda "),e._UZ(2,"i",19),e.qZA())}function ur(n,o){1&n&&(e.TgZ(0,"h4",18),e._uU(1," Edicion Tienda "),e._UZ(2,"i",20),e.qZA())}function gr(n,o){1&n&&(e.TgZ(0,"label",7),e._uU(1," Ruta "),e.qZA())}function hr(n,o){if(1&n&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Nombre," ")}}function pr(n,o){if(1&n&&(e.TgZ(0,"select",21),e.YNc(1,hr,2,2,"option",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.rutas)}}function fr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().operate()}),e._uU(1," Guardar "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function _r(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().operate()}),e._uU(1," Actualizar "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}let mr=(()=>{class n{constructor(t,i,s,a){this._tiendaService=t,this._formBuilder=i,this._rutaService=s,this._activeModal=a,this.localStorage=localStorage}ngOnInit(){this.getTiendas(),this.getRutas(),this.initForm(),this.validation()}validation(){null==localStorage.getItem("admin")&&(this.idRuta=localStorage.getItem("idRuta"),this.form.controls.Ruta.setValue(this.idRuta))}emptyForm(){this.form=this._formBuilder.group({Id:[null],Nombre:[null,[d.kI.required]],Dueno:[null,[d.kI.required]],Nit:[null],Telefono:[null],Direccion:[null,[d.kI.required]],Ruta:[null,[d.kI.required]]})}editForm(){this.form=this._formBuilder.group({Id:[this.tienda.Id],Nombre:[this.tienda.Nombre,[d.kI.required]],Dueno:[this.tienda.Dueno,[d.kI.required]],Nit:[this.tienda.Nit],Telefono:[this.tienda.Telefono],Direccion:[this.tienda.Direccion,[d.kI.required]],Ruta:[this.tienda.Ruta.Id,[d.kI.required]]}),this.idRuta=this.tienda.Ruta.Id}initForm(){this.emptyForm(),this.tienda&&this.editForm()}operate(){let t=this.form.getRawValue(),i=Object.assign({},t);this.tienda?this._tiendaService.updateItem(i).subscribe(s=>{this._tiendaService.setChangeList(this.tiendas),this.closeModal()}):this._tiendaService.saveItem(i).subscribe(s=>{this._tiendaService.setChangeList(this.tiendas),this.closeModal()})}getTiendas(){this._tiendaService.getItems().subscribe(t=>this.tiendas=t.data)}getRutas(){this._rutaService.getItems().subscribe(t=>this.rutas=t.data)}closeModal(){this._activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(d.qu),e.Y36(Re.z),e.Y36(oe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-tienda"]],decls:30,vars:7,consts:[[1,"container"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-label"],["type","text","placeholder","Nombre","formControlName","Nombre",1,"form-control"],["type","text","placeholder","Due\xf1o","formControlName","Dueno",1,"form-control"],["type","text","placeholder","Nit","formControlName","Nit",1,"form-control"],["type","text","placeholder","Telefono","formControlName","Telefono",1,"form-control"],["type","text","placeholder","Direccion","formControlName","Direccion",1,"form-control"],["class","form-label",4,"ngIf"],["class","form-select","placeholder","Ruta","formControlName","Ruta",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary",3,"click"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"modal-title"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-pencil"],["placeholder","Ruta","formControlName","Ruta",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,dr,3,0,"h4",2),e.YNc(3,ur,3,0,"h4",2),e.qZA(),e.TgZ(4,"form",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"label",7),e._uU(9," Nombre "),e.qZA(),e._UZ(10,"input",8),e.TgZ(11,"label",7),e._uU(12," Due\xf1o "),e.qZA(),e._UZ(13,"input",9),e.TgZ(14,"label",7),e._uU(15," Nit "),e.qZA(),e._UZ(16,"input",10),e.TgZ(17,"label",7),e._uU(18," Telefono "),e.qZA(),e._UZ(19,"input",11),e.TgZ(20,"label",7),e._uU(21," Direccion "),e.qZA(),e._UZ(22,"input",12),e.YNc(23,gr,2,0,"label",13),e.YNc(24,pr,2,1,"select",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",15),e.TgZ(26,"button",16),e.NdJ("click",function(){return i.closeModal()}),e._uU(27," Cancelar "),e.qZA(),e.YNc(28,fr,2,1,"button",17),e.YNc(29,_r,2,1,"button",17),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!i.tienda),e.xp6(1),e.Q6J("ngIf",i.tienda),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(19),e.Q6J("ngIf",null!=i.localStorage.getItem("admin")),e.xp6(1),e.Q6J("ngIf",null!=i.localStorage.getItem("admin")),e.xp6(4),e.Q6J("ngIf",!i.tienda),e.xp6(1),e.Q6J("ngIf",i.tienda))},directives:[g.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,d.EJ,g.sg,d.YN,d.Kr],styles:[""]}),n})();function br(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"i",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().openModal(a)}),e.qZA(),e.TgZ(15,"i",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().eliminar(a.Id)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.Nombre," "),e.xp6(2),e.hij(" ",t.Dueno," "),e.xp6(2),e.hij(" ",t.Nit," "),e.xp6(2),e.hij(" ",t.Telefono," "),e.xp6(2),e.hij(" ",t.Direccion," "),e.xp6(2),e.hij(" ",t.Ruta.Nombre," ")}}let vr=(()=>{class n{constructor(t,i,s,a){this._tiendaService=t,this._formBuilder=i,this._modalService=s,this.spinner=a,this.filter=new d.NI("")}ngOnInit(){null==localStorage.getItem("admin")?(this.getParamId(),this._tiendaService.getChangeList().subscribe(()=>this.getTiendasById(this.id))):(this.getTiendas(),this._tiendaService.getChangeList().subscribe(()=>this.getTiendas()))}getParamId(){this.id=localStorage.getItem("idRuta"),this.getTiendasById(this.id)}initForm(){this.form=this._formBuilder.group({Id:[null],Nombre:[null,[d.kI.required]],Due\u00f1o:null,Nit:null,Telefono:null,Direccion:null,Ruta:[null,[d.kI.required]]})}openModal(t){this._modalService.open(mr).componentInstance.tienda=t}eliminar(t){this._tiendaService.deleteItem(t).subscribe(i=>{console.log(i)})}operar(){var t;let i={Id:"",Nombre:this.form.value.Nombre,Dueno:null===(t=this.form.get("Dueno"))||void 0===t?void 0:t.value,Nit:this.form.value.Nit,Telefono:this.form.value.Telefono,Direccion:this.form.value.Direccion,Ruta:this.form.value.Ruta};this._tiendaService.saveItem(i).subscribe(s=>{console.log(s)})}getTiendasById(t){this.spinner.show(),this._tiendaService.getTiendaByRuta(t).subscribe(i=>{this.tiendas=i.data,this.spinner.hide(),this.tableFilter()})}getTiendas(){this.spinner.show(),this._tiendaService.getItems().subscribe(t=>{this.tiendas=t.data,this.spinner.hide(),this.tableFilter()})}tableFilter(){this.tiendas$=this.filter.valueChanges.pipe((0,H.O)(""),(0,F.U)(t=>this.search(t)))}search(t){return this.tiendas.filter(i=>{var s,a,r;const l=t.toLowerCase();return i.Nombre.toLowerCase().includes(l)||i.Dueno.toLowerCase().includes(l)||(null===(s=i.Nit)||void 0===s?void 0:s.toString().toLowerCase().includes(l))||(null===(a=i.Telefono)||void 0===a?void 0:a.toString().toLowerCase().includes(l))||(null===(r=i.Direccion)||void 0===r?void 0:r.toLowerCase().includes(l))||i.Ruta.Nombre.toLowerCase().includes(l)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(d.qu),e.Y36(pe),e.Y36(Q.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tienda"]],decls:30,vars:4,consts:[[1,"container"],[1,"btn","btn-primary","col-12","col-sm-5","m-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["type","text",1,"form-control",3,"formControl"],[1,"table","table-hover","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],["data-bs-toggle","tooltip","data-bs-title","Editar",1,"fa-solid","fa-pencil","text-dark","me-2",3,"click"],[1,"fa-solid","fa-trash","text-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form"),e.TgZ(2,"button",1),e.NdJ("click",function(){return i.openModal()}),e._uU(3," A\xf1adir Tienda "),e._UZ(4,"i",2),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"label",4),e._uU(7," Buscar : "),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"table",7),e.TgZ(11,"thead",8),e.TgZ(12,"tr"),e.TgZ(13,"th"),e._uU(14," Nombre "),e.qZA(),e.TgZ(15,"th"),e._uU(16," Dueno "),e.qZA(),e.TgZ(17,"th"),e._uU(18," Nit "),e.qZA(),e.TgZ(19,"th"),e._uU(20," Telefono "),e.qZA(),e.TgZ(21,"th"),e._uU(22," Direccion "),e.qZA(),e.TgZ(23,"th"),e._uU(24," Ruta "),e.qZA(),e.TgZ(25,"th"),e._uU(26," Acciones "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"tBody"),e.YNc(28,br,16,6,"tr",9),e.ALo(29,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formControl",i.filter),e.xp6(19),e.Q6J("ngForOf",e.lcZ(29,2,i.tiendas$)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.oH,g.sg],pipes:[g.Ov],styles:[""]}),n})();var yr=m(36),st=m(6385);function Nr(n,o){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"uppercase"),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.Fecha," "),e.xp6(2),e.hij(" ",e.lcZ(5,7,t.Tienda.Nombre)," "),e.xp6(3),e.hij(" ",e.lcZ(8,9,t.Tradicional)," "),e.xp6(3),e.hij(" ",e.lcZ(11,11,t.Mega)," "),e.xp6(3),e.hij(" ",e.lcZ(14,13,t.Devolucion)," "),e.xp6(3),e.hij(" ",e.lcZ(17,15,t.Total)," "),e.xp6(3),e.hij(" ",e.lcZ(20,17,t.Ruta.Empleado.Nombre)," ")}}let Tr=(()=>{class n{constructor(t,i,s,a,r){this._ventaService=t,this._rutaService=i,this._formBuilder=s,this.datePipe=a,this.spinner=r,this.tradicional=0,this.mega=0,this.devolucion=0,this.filter=new d.NI("")}ngOnInit(){this.initForm(),this.getVentas()}initForm(){this._rutaService.getItems().subscribe(t=>{this.rutas=t.data}),this.form=this._formBuilder.group({FechaInicial:[null,[d.kI.required]],FechaFinal:[null,[d.kI.required]],Ruta:[""],Acumular:["False"]})}getVentas(){this.spinner.show(),this._ventaService.getItems().subscribe(t=>{this.ventas=t.data,this.spinner.hide(),this.tableFilter()})}tableFilter(){this.obtenerTotal(),this.ventas$=this.filter.valueChanges.pipe((0,H.O)(""),(0,F.U)(t=>this.search(t)))}obtenerTotal(){this.tradicional=0,this.mega=0,this.devolucion=0,this.ventas.forEach(t=>{this.tradicional+=t.Tradicional,this.mega+=t.Mega,this.devolucion+=t.Devolucion})}searchFechas(){this.form.invalid&&null==this.form.controls.Ruta.value&&""==this.form.controls.Ruta.value||(console.log(this.form.value),"True"==this.form.controls.Acumular.value?this._ventaService.ventasTotalesByfecha(this.form.value).subscribe(t=>{this.ventas=t.data,this.tableFilter()}):this._ventaService.ventasByfecha(this.form.value).subscribe(t=>{this.ventas=t.data,this.tableFilter()}))}search(t){return this.ventas.filter(i=>{var s,a,r;const l=t.toLowerCase();return(null===(s=i.Tradicional)||void 0===s?void 0:s.toString().toLowerCase().includes(l))||(null===(a=i.Devolucion)||void 0===a?void 0:a.toString().toLowerCase().includes(l))||i.Fecha.toString().toLowerCase().includes(l)||(null===(r=i.Mega)||void 0===r?void 0:r.toString().toLowerCase().includes(l))||i.Ruta.Empleado.Nombre.toLowerCase().includes(l)||i.Tienda.Nombre.toLowerCase().includes(l)||i.Total.toString().toLowerCase().includes(l)})}downloadExcel(){this.form.invalid||this._ventaService.reporteExcel(this.form.value).subscribe(t=>{const i=new Blob([t]),s=window.URL.createObjectURL(i),a=document.createElement("a");a.href=s;let r=this.datePipe.transform(this.form.controls.FechaInicial.value,"yyyy-MM-dd"),l=this.datePipe.transform(this.form.controls.FechaFinal.value,"yyyy-MM-dd");a.setAttribute("download",`Ventas:${r}/${l}.xlsx`),a.click()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(In),e.Y36(Re.z),e.Y36(d.qu),e.Y36(g.uU),e.Y36(Q.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reporte-venta"]],decls:74,vars:18,consts:[[1,"container"],[3,"formGroup"],[1,"mb-9","row"],[1,"col-lg-1","col-sm-auto","col-form-label"],[1,"col-lg-2","col-sm-auto"],["type","date","formControlName","FechaInicial",1,"form-control"],["type","date","formControlName","FechaFinal",1,"form-control"],["bindLabel","Empleado.Nombre","bindValue","Id","formControlName","Ruta",3,"items"],[1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-1","col-sm-1"],["type","radio","id","No","formControlName","Acumular","value","False","checked",""],["for","No"],["type","radio","id","Si","formControlName","Acumular","value","True"],["for","Si"],[1,"btn","btn-secondary","col-sm-auto",3,"click"],["type","submit",1,"btn","btn-primary","m-2",3,"click"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto"],["type","text",1,"form-control",3,"formControl"],[1,"table","table-hover","table-bordered","table-striped","text-center"],[1,"table-dark"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"form",1),e.TgZ(3,"div",2),e.TgZ(4,"label",3),e._uU(5," Fecha Inicial"),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"label",3),e._uU(9," Fecha Final : "),e.qZA(),e.TgZ(10,"div",4),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"label",3),e._uU(13," Ruta : "),e.qZA(),e.TgZ(14,"div",4),e._UZ(15,"ng-select",7),e.qZA(),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"div",2),e.TgZ(18,"label",8),e._uU(19," Acumular ventas ?"),e.qZA(),e.TgZ(20,"div",9),e._UZ(21,"input",10),e.TgZ(22,"label",11),e._uU(23,"No"),e.qZA(),e.qZA(),e.TgZ(24,"div",9),e._UZ(25,"input",12),e.TgZ(26,"label",13),e._uU(27,"Si"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"button",14),e.NdJ("click",function(){return i.searchFechas()}),e._uU(29,"Buscar"),e.qZA(),e.TgZ(30,"button",15),e.NdJ("click",function(){return i.downloadExcel()}),e._uU(31," Descargar Excel"),e.qZA(),e._UZ(32,"hr"),e.TgZ(33,"ul"),e.TgZ(34,"li"),e._uU(35),e.ALo(36,"number"),e.qZA(),e.TgZ(37,"li"),e._uU(38),e.ALo(39,"number"),e.qZA(),e.TgZ(40,"li"),e._uU(41),e.ALo(42,"number"),e.qZA(),e.TgZ(43,"li"),e._uU(44),e.ALo(45,"number"),e.qZA(),e.qZA(),e.TgZ(46,"div",16),e.TgZ(47,"label",8),e._uU(48," Buscar : "),e.qZA(),e.TgZ(49,"div",17),e._UZ(50,"input",18),e.qZA(),e.TgZ(51,"div",17),e.TgZ(52,"button",14),e.NdJ("click",function(){return i.getVentas()}),e._uU(53,"Limpiar Filtros"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"table",19),e.TgZ(55,"thead",20),e.TgZ(56,"tr"),e.TgZ(57,"th"),e._uU(58," Fecha "),e.qZA(),e.TgZ(59,"th"),e._uU(60," Tienda "),e.qZA(),e.TgZ(61,"th"),e._uU(62," Tradicional "),e.qZA(),e.TgZ(63,"th"),e._uU(64," Megas "),e.qZA(),e.TgZ(65,"th"),e._uU(66," Devolucion "),e.qZA(),e.TgZ(67,"th"),e._uU(68," Total "),e.qZA(),e.TgZ(69,"th"),e._uU(70," Empleado "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"tBody"),e.YNc(72,Nr,21,19,"tr",21),e.ALo(73,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(13),e.Q6J("items",i.rutas),e.xp6(20),e.hij("Tradicional : ",e.lcZ(36,8,i.tradicional),""),e.xp6(3),e.hij("Mega : ",e.lcZ(39,10,i.mega),""),e.xp6(3),e.hij("Devolucion : ",e.lcZ(42,12,i.devolucion),""),e.xp6(3),e.hij("TOTAL : ",e.lcZ(45,14,i.tradicional+i.mega-i.devolucion),""),e.xp6(6),e.Q6J("formControl",i.filter),e.xp6(22),e.Q6J("ngForOf",e.lcZ(73,16,i.ventas$)))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,st.w9,d._,d.oH,g.sg],pipes:[g.JJ,g.Ov,g.gd],styles:[""]}),n})(),Fn=(()=>{class n extends it.M{constructor(t){super(t,`${$.N.HOST}/cobros`),this._http=t}getCobroByTiendaId(t){return this._http.get(`${$.N.HOST}/cobros/byTienda/${t}`)}getCobroByRutaId(t){return this._http.get(`${$.N.HOST}/cobros/byRuta/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ot.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wr(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"label",12),e._uU(2," Tienda "),e.qZA(),e._UZ(3,"ng-select",17),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("items",t.tiendas)}}const Dr=function(n){return{"background-color":n}};function Cr(n,o){if(1&n&&(e.TgZ(0,"tr",21),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngStyle",e.VKq(8,Dr,t.Pago?"#8FF57B":"#F5887B")),e.xp6(2),e.hij(" ",t.Tienda.Nombre," "),e.xp6(2),e.hij(" ",e.lcZ(5,4,t.Valor)," "),e.xp6(3),e.hij(" ",e.lcZ(8,6,t.Fecha)," ")}}function Mr(n,o){if(1&n&&(e.ynx(0),e._uU(1," Total a Cobrar : "),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e.TgZ(4,"table",18),e.TgZ(5,"thead",19),e.TgZ(6,"tr"),e.TgZ(7,"th"),e._uU(8," Tienda "),e.qZA(),e.TgZ(9,"th"),e._uU(10," Valor "),e.qZA(),e.TgZ(11,"th"),e._uU(12," Fecha "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"tBody"),e.YNc(14,Cr,9,10,"tr",20),e.qZA(),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.cobroTotal," "),e.xp6(11),e.Q6J("ngForOf",t.cobros)}}let kr=(()=>{class n{constructor(t,i,s,a){this._cobroService=t,this._formBuilder=i,this._tiendaService=s,this._activeModal=a,this.localStorage=localStorage,this.cobroTotal=0}ngOnInit(){this.validation(),this.getCobros(),this.getTiendas(),this.initForm()}validation(){null==localStorage.getItem("admin")&&(this.idRuta=localStorage.getItem("idRuta"))}emptyForm(){this.form=this._formBuilder.group({Id:[null],Tienda:[null,[d.kI.required]],Valor:[null,[d.kI.required]],Pago:[!1]})}editForm(){this.form=this._formBuilder.group({Id:[this.cobro.Id],Tienda:[this.cobro.Tienda.Id,[d.kI.required]],Valor:[null,[d.kI.required]],Pago:[!1]}),this.form.controls.Tienda.disable()}initForm(){this.emptyForm(),this.cobro&&this.editForm()}operate(){let t=this.form.getRawValue(),i=Object.assign({},t);this._cobroService.saveItem(i).subscribe(s=>{this.getCobros(),this.cobro||this.closeModal()})}getCobros(){var t;this.cobro&&this._cobroService.getCobroByTiendaId(null===(t=this.cobro)||void 0===t?void 0:t.Tienda.Id).subscribe(({data:i})=>{this.cobros=i;let s=0,a=0;for(let r=0;r<this.cobros.length;r++)this.cobros[r].Pago?s+=this.cobros[r].Valor:a+=this.cobros[r].Valor;this.cobroTotal=a-s})}getTiendas(){this.idRuta?this._tiendaService.getTiendaByRuta(this.idRuta).subscribe(({data:t})=>this.tiendas=t):this._tiendaService.getItems().subscribe(({data:t})=>this.tiendas=t)}closeModal(){this._activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Fn),e.Y36(d.qu),e.Y36(Ie),e.Y36(oe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-cobro"]],decls:27,vars:4,consts:[[1,"container"],[1,"modal-header"],[1,"modal-title"],[3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-12","form-check","form-switch"],["for","paga",1,"form-check-label"],[1,"switch"],["type","checkbox","formControlName","Pago"],[1,"slider","round"],[4,"ngIf"],[1,"form-label"],["type","text","placeholder","Valor","formControlName","Valor",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary",3,"click"],["bindLabel","Nombre","bindValue","Id","formControlName","Tienda",3,"items"],[1,"table","table-hover","table-sm"],[1,"table-dark"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3," Agregar Cobro "),e.qZA(),e.qZA(),e.TgZ(4,"form",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"label",7),e._uU(9,"Paga"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"label",8),e._UZ(12,"input",9),e._UZ(13,"span",10),e.qZA(),e._UZ(14,"br"),e.YNc(15,wr,4,1,"ng-container",11),e.TgZ(16,"label",12),e._uU(17," Valor "),e.qZA(),e._UZ(18,"input",13),e._UZ(19,"br"),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){return i.operate()}),e._uU(21," Guardar "),e.qZA(),e.qZA(),e._UZ(22,"hr"),e.YNc(23,Mr,15,2,"ng-container",11),e.qZA(),e.TgZ(24,"div",15),e.TgZ(25,"button",16),e.NdJ("click",function(){return i.closeModal()}),e._uU(26," Cancelar "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(11),e.Q6J("ngIf",null!=i.localStorage.getItem("admin")||null!=i.idRuta),e.xp6(5),e.Q6J("disabled",i.form.invalid),e.xp6(3),e.Q6J("ngIf",i.cobro))},directives:[d._Y,d.JL,d.sg,d.Wl,d.JJ,d.u,g.O5,d.Fj,st.w9,g.sg,g.PC],pipes:[g.JJ,g.uU],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();function Sr(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"i",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().openModal(s)}),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",null==t.Tienda.Ruta.Empleado?null:t.Tienda.Ruta.Empleado.Nombre," "),e.xp6(2),e.hij(" ",t.Tienda.Nombre," "),e.xp6(2),e.hij(" ",e.lcZ(7,4,t.Valor)," "),e.xp6(3),e.hij(" ",e.lcZ(10,6,t.Fecha)," ")}}function Ar(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Sr,13,8,"ng-container",10),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.Pago)}}const Ir=[{path:"dashBoard",component:yr.Z},{path:"tienda",component:vr},{path:"ruta",component:cr},{path:"empleado",component:Ka},{path:"venta",component:tr},{path:"reporte-ventas",component:Tr},{path:"cobro",component:(()=>{class n{constructor(t,i,s,a){this._cobroService=t,this._formBuilder=i,this._modalService=s,this.spinner=a,this.filter=new d.NI("")}ngOnInit(){null==localStorage.getItem("admin")?(this.getParamId(),this.getCobrosById(this.id)):this.getCobros()}getParamId(){this.id=localStorage.getItem("idRuta"),this.getCobrosById(this.id)}openModal(t){let i=this._modalService.open(kr);i.componentInstance.cobro=t,i.result.then(s=>{null==localStorage.getItem("admin")?this.getCobrosById(this.id):this.getCobros()})}eliminar(t){this._cobroService.deleteItem(t).subscribe(i=>{this.getCobros()})}getCobrosById(t){this.spinner.show(),this._cobroService.getCobroByRutaId(t).subscribe(i=>{this.cobros=i.data,this.spinner.hide(),this.tableFilter()})}getCobros(){this.spinner.show(),this._cobroService.getItems().subscribe(t=>{this.cobros=t.data,this.spinner.hide(),this.tableFilter()})}tableFilter(){this.cobros$=this.filter.valueChanges.pipe((0,H.O)(""),(0,F.U)(t=>this.search(t)))}search(t){return this.cobros.filter(i=>{var s,a;const r=t.toLowerCase();return(null===(s=i.Tienda.Nombre)||void 0===s?void 0:s.toLowerCase().includes(r))||(null===(a=i.Tienda.Ruta.Empleado)||void 0===a?void 0:a.Nombre.toLowerCase().includes(r))||i.Valor.toString().includes(r)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Fn),e.Y36(d.qu),e.Y36(pe),e.Y36(Q.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cobro"]],decls:26,vars:4,consts:[[1,"container"],[1,"btn","btn-primary","col-12","col-sm-5","m-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["type","text",1,"form-control",3,"formControl"],[1,"table","table-hover","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],[4,"ngIf"],["data-bs-toggle","tooltip","data-bs-title","Editar",1,"fa-solid","fa-eye","text-dark","me-2",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form"),e.TgZ(2,"button",1),e.NdJ("click",function(){return i.openModal()}),e._uU(3," A\xf1adir Cobro "),e._UZ(4,"i",2),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"label",4),e._uU(7," Buscar : "),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"table",7),e.TgZ(11,"thead",8),e.TgZ(12,"tr"),e.TgZ(13,"td"),e._uU(14," Repartidor "),e.qZA(),e.TgZ(15,"th"),e._uU(16," Tienda "),e.qZA(),e.TgZ(17,"th"),e._uU(18," Valor "),e.qZA(),e.TgZ(19,"th"),e._uU(20," Fecha "),e.qZA(),e.TgZ(21,"th"),e._uU(22," Acciones "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tBody"),e.YNc(24,Ar,2,1,"tr",9),e.ALo(25,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formControl",i.filter),e.xp6(15),e.Q6J("ngForOf",e.lcZ(25,2,i.cobros$)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.oH,g.sg,g.O5],pipes:[g.Ov,g.JJ,g.uU],styles:[""]}),n})()}];let Fr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Fe.Bz.forChild(Ir)],Fe.Bz]}),n})(),Rr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,Fr,On.J,d.UX,d.u5,Q.ef,st.A0]]}),n})()}}]);